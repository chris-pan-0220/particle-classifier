# Fake Data Simulation

產生兩個類別的數據，對於每一個instance，都具有數個`scalar`(一些物理量)以及一個`energy matrix`(7x7的能量分布矩陣)，

使用1D的標準常態分布來隨機生成scalar input，使用2D的標準常態分布來隨機生成energy matrix

## 實驗數據生成

參數意義如下：

* n: 總數量
* n_scalar: scalar input的數量
* energy_matrix_size: 能量矩陣的大小
    * ex: energy_matrix_size = 7, 則能量矩陣的大小為7x7
* high_res_size: 能量矩陣原先的解析度。先使用多變數的常態分佈來生成2D的隨機數據，再下採樣為7x7的矩陣
    * ex: energy_matrix_size = 7, high_res_size = 140, 則生成140x140個2變數的隨機數，再下採樣為7x7的矩陣。
* category_mean_diff: difference of `mean` parameter in generating random number 
* std_dev_ratio: ratio of `std` parameter in generating random number 
* category_ratio: category 1 佔所有數據的比例

## 訓練參數

* learning_rate = 0.001
* num_epochs = 30
* batch_size = 64

## 實驗

實驗方法皆在`Test-ModelModule.ipynb`中。

### 實驗一：調整 `category_mean_diff` & `std_dev_ratio`

我們預期當`category_mean_diff`變大，`std_dev_ratio`不變的時候，accuracy會上升；當`category_mean_diff`不變，`std_dev_ratio`變大到一定程度的時候，accuracy會下降。

其他參數請見`Test-ModelModule.ipynb`。

實驗結果如下：

| std_ratio | 1.0   | 1.2   | 1.4   | 1.6   | 1.8   | 2.0   | 2.2   | 2.4   | 2.6   | 2.8   | 3.0   |
|-----------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| mean_diff |       |       |       |       |       |       |       |       |       |       |       |
| 0.0       | 0.460 | 0.640 | 0.750 | 0.810 | 0.850 | 0.885 | 0.920 | 0.930 | 0.950 | 0.965 | 0.965 |
| 0.2       | 0.580 | 0.590 | 0.700 | 0.770 | 0.825 | 0.880 | 0.895 | 0.925 | 0.950 | 0.955 | 0.965 |
| 0.4       | 0.675 | 0.690 | 0.725 | 0.740 | 0.795 | 0.870 | 0.905 | 0.930 | 0.935 | 0.955 | 0.955 |
| 0.6       | 0.755 | 0.750 | 0.765 | 0.755 | 0.780 | 0.825 | 0.865 | 0.905 | 0.930 | 0.935 | 0.960 |
| 0.8       | 0.840 | 0.815 | 0.805 | 0.810 | 0.815 | 0.840 | 0.865 | 0.890 | 0.915 | 0.935 | 0.940 |
| 1.0       | 0.920 | 0.890 | 0.850 | 0.855 | 0.855 | 0.875 | 0.880 | 0.895 | 0.900 | 0.930 | 0.940 |
| 1.2       | 0.940 | 0.915 | 0.915 | 0.890 | 0.890 | 0.895 | 0.900 | 0.910 | 0.915 | 0.930 | 0.940 |
| 1.4       | 0.960 | 0.950 | 0.930 | 0.930 | 0.925 | 0.910 | 0.910 | 0.920 | 0.925 | 0.930 | 0.935 |
| 1.6       | 0.985 | 0.970 | 0.960 | 0.945 | 0.935 | 0.930 | 0.925 | 0.925 | 0.940 | 0.935 | 0.935 |
| 1.8       | 0.990 | 0.990 | 0.975 | 0.975 | 0.960 | 0.950 | 0.950 | 0.945 | 0.945 | 0.940 | 0.940 |
| 2.0       | 1.000 | 0.990 | 0.990 | 0.980 | 0.980 | 0.980 | 0.980 | 0.975 | 0.970 | 0.955 | 0.955 |


### 實驗二：調整 `n_scalar` & `energy_matrix_size`

* *我們預期當`n_scalar`變大，`energy_matrix_size`不變，accuracy會上升
* 當`std_dev_ratio`變大，則能量分布差異越大，我們預期模型更容易分類數據。在兩個類別能量分布差異達到一定程度的情況下，當`energy_matrix_size`增大，`n_scalar`不變的時候，模型中的卷積層能夠有效的分類數據，accuracy會上升。

**實驗參數：**
* category_mean_diff: 0
* std_dev_ratio: 1.0, 1.5, 2.0
    * 預期當`std_dev_ratio`變大，accuracy上升。用於驗證模型中的convolution layer

其他參數請見`Test-ModelModule.ipynb`。

**`std_dev_ratio = 1.0`**

| energy_matrix_size |   7   |  11   |  15   |  19   |
|--------------------|-------|-------|-------|-------|
| n_scalar           |       |       |       |       |
| 3                  | 0.585 | 0.485 | 0.505 | 0.495 |
| 4                  | 0.535 | 0.450 | 0.525 | 0.490 |
| 5                  | 0.500 | 0.500 | 0.525 | 0.550 |
| 6                  | 0.550 | 0.605 | 0.595 | 0.545 |
| 7                  | 0.515 | 0.535 | 0.550 | 0.540 |

**`std_dev_ratio = 1.5`**

| energy_matrix_size |   7   |  11   |  15   |  19   |
|--------------------|-------|-------|-------|-------|
| n_scalar           |       |       |       |       |
| 3                  | 0.620 | 0.615 | 0.660 | 0.675 |
| 4                  | 0.655 | 0.655 | 0.645 | 0.680 |
| 5                  | 0.635 | 0.495 | 0.690 | 0.675 |
| 6                  | 0.780 | 0.755 | 0.755 | 0.760 |
| 7                  | 0.740 | 0.765 | 0.780 | 0.745 |

**`std_dev_ratio = 2.0`**

| energy_matrix_size |   7   |  11   |  15   |  19   |
|--------------------|-------|-------|-------|-------|
| n_scalar           |       |       |       |       |
| 3                  | 0.675 | 0.765 | 0.735 | 0.770 |
| 4                  | 0.745 | 0.765 | 0.790 | 0.790 |
| 5                  | 0.780 | 0.585 | 0.820 | 0.795 |
| 6                  | 0.875 | 0.870 | 0.870 | 0.865 |
| 7                  | 0.865 | 0.890 | 0.920 | 0.905 |

註：目前的採樣方法還沒有把energy matrix的位置資訊考慮進去。


